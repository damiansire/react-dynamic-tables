import{r as d}from"./index-8db94870.js";import"./_commonjsHelpers-042e6b4d.js";var g={exports:{}},h={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D=d,V=Symbol.for("react.element"),L=Symbol.for("react.fragment"),O=Object.prototype.hasOwnProperty,j=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P={key:!0,ref:!0,__self:!0,__source:!0};function R(e,r,a){var o,c={},n=null,f=null;a!==void 0&&(n=""+a),r.key!==void 0&&(n=""+r.key),r.ref!==void 0&&(f=r.ref);for(o in r)O.call(r,o)&&!P.hasOwnProperty(o)&&(c[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps,r)c[o]===void 0&&(c[o]=r[o]);return{$$typeof:V,type:e,key:n,ref:f,props:c,_owner:j.current}}h.Fragment=L;h.jsx=R;h.jsxs=R;g.exports=h;var k=g.exports;const b=k.jsx,$=k.jsxs;const B=(e,r,a)=>{var o;return(o=e.current)==null?void 0:o.querySelector(`tr[row-id="${r}"] td[column-id="${a}"]`)};var E=(e=>(e.ArrowDown="ArrowDown",e.ArrowUp="ArrowUp",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e))(E||{});const U=e=>Object.values(E).includes(e),q=(e,r,a)=>{const[o,c]=d.useState({trId:null,columnId:null}),n=d.useCallback((s,u,p,t,l)=>{const m=l.findIndex(S=>S.attributeName===t),i=l.length;let w,I;u==="ArrowUp"?(I=(s-1+p)%p,window.scrollBy(0,-50)):u==="ArrowDown"?(I=(s+1)%p,window.scrollBy(0,50)):u==="ArrowLeft"?w=(m-1+i)%i:u==="ArrowRight"&&(w=(m+1)%i);const x=w!==void 0?l[w].attributeName:t;return{nextRowIndex:I!==void 0?I:s,columnId:x}},[r]),f=d.useCallback(s=>{if(U(s.key)&&o.trId!==null){s.preventDefault();const u=e.findIndex(i=>i.id===o.trId),{nextRowIndex:p,columnId:t}=n(u,s.key,e.length,o.columnId,r),l=e[p],m=B(a,l.id,t);m&&(m.focus(),c({trId:l.id,columnId:t}))}},[e,o]);d.useEffect(()=>(document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}),[f]);const _=d.useCallback(s=>{const u=s.currentTarget.getAttribute("row-id"),p=s.target.getAttribute("column-id");c({columnId:p,trId:u})},[]);return[o,f,_]},F=({value:e,isSelected:r,columnName:a})=>b("td",{className:r?"selected":"","column-id":a,children:e}),A=({rows:e,headers:r})=>{const[a,o]=d.useState({}),c=d.useRef(null),[n,f,_]=q(e,r,c),s=d.useCallback((t,l)=>n.trId===l&&n.columnId===t,[n]),u=d.useCallback(t=>b("tr",{"row-id":t.id,onClick:_,className:s("",t.id)?"selected":"",children:r.map(l=>{let m=t[l.attributeName];return a[t.id]&&(m=a[t.id][l.attributeName]),b(F,{value:m,columnName:l.attributeName,isSelected:s(l.attributeName,t.id)},l.attributeName)})},t.id),[r,s,_]),p=t=>/^[A-Za-z0-9!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~]$/.test(t);return d.useEffect(()=>{function t({key:l}){p(l)&&n.trId&&n.columnId&&o(m=>{const i={...m},w=e.find(I=>I.id===n.trId);if(i.hasOwnProperty(n.trId)){const x=i[n.trId][n.columnId]+l;i[n.trId][n.columnId]=x}else{const x=w[n.columnId]+l;i[n.trId]={...w},i[n.trId][n.columnId]=x}return i})}return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[n,a,e]),$("table",{ref:c,children:[b("thead",{children:b("tr",{children:r.map(t=>b("th",{children:t.displayText},t.attributeName))})}),b("tbody",{children:e.map(u)})]})};A.defaultProps={headers:[],rows:[]};const v=A;try{Table.displayName="Table",Table.__docgenInfo={description:"",displayName:"Table",props:{headers:{defaultValue:{value:"[]"},description:"",name:"headers",required:!1,type:{name:"Header[]"}},rows:{defaultValue:{value:"[]"},description:"",name:"rows",required:!1,type:{name:"Row[]"}}}}}catch{}const G={title:"Table",component:v},Y=e=>b(v,{...e}),W=[{id:"1",name:"Item 1",description:"Description of Item 1",amount:10.99},{id:"2",name:"Item 2",description:"Description of Item 2",amount:5.49},{id:"3",name:"Item 3",description:"Description of Item 3",amount:20},{id:"4",name:"Item 4",description:"Description of Item 4",amount:8.75},{id:"5",name:"Item 5",description:"Description of Item 5",amount:15.25}],z=[{attributeName:"name",displayText:"Nombre"},{attributeName:"description",displayText:"DescripciÃ³n"},{attributeName:"amount",displayText:"Cantidad"}],y=Y.bind({});y.args={headers:z,rows:W};var C,N,T;y.parameters={...y.parameters,docs:{...(C=y.parameters)==null?void 0:C.docs,source:{originalSource:"args => <Table {...args} />",...(T=(N=y.parameters)==null?void 0:N.docs)==null?void 0:T.source}}};const Q=["Primary"];export{y as Primary,Q as __namedExportsOrder,G as default};
//# sourceMappingURL=Table.stories-0cd9db18.js.map
